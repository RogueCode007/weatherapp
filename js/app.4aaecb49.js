(function(t){function e(e){for(var a,s,c=e[0],o=e[1],l=e[2],p=0,h=[];p<c.length;p++)s=c[p],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,c=1;c<n.length;c++){var o=n[c];0!==i[o]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},r=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/weatherapp/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"1af8":function(t,e,n){"use strict";var a=n("ce3b"),i=n.n(a);i.a},"3f9b":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e),n.d(e,"bus",(function(){return q}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],s=n("2877"),c={},o=Object(s["a"])(c,i,r,!1,null,null,null),l=o.exports,u=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("div",{staticClass:"loading"},[t._m(0)]):n("div",{staticClass:"wrapper"},[n("div",{staticClass:"components left-container"},[t.show?n("weather",{attrs:{tempMode:t.tempMode},on:{toggle:t.toggleShow}}):n("search",{on:{toggle:t.toggleShow}})],1),n("div",{staticClass:"right-container"},[n("div",{staticClass:"temp-icons"},[n("button",{on:{click:t.changeToCelcius}},[t._v("℃")]),n("button",{on:{click:t.changeToFarenheit}},[t._v("℉")])]),n("div",{staticClass:"future-cards"},t._l(t.slicedDaily,(function(e,a){return n("div",{key:e.id,staticClass:"card"},[n("p",{staticClass:"card-date"},[t._v(t._s(t.dates.future[a]))]),n("img",{attrs:{src:e.img,alt:""}}),n("div",[n("p",{directives:[{name:"temp",rawName:"v-temp:[changeTemp]",value:t.tempMode,expression:"tempMode",arg:t.changeTemp}],staticClass:"mornTemp"},[t._v(" "+t._s(t._f("roundTemp")(e.temp.morn))+" "),n("span",[t._v("℃")])]),n("p",{directives:[{name:"temp",rawName:"v-temp:[changeTemp]",value:t.tempMode,expression:"tempMode",arg:t.changeTemp}],staticClass:"nightTemp"},[t._v(" "+t._s(t._f("roundTemp")(e.temp.night))+" "),n("span",[t._v("℃")])])]),n("p")])})),0),n("h2",[t._v("Today's highlights")]),n("div",{staticClass:"highlights-one"},[n("div",{staticClass:"highlights"},[n("h5",[t._v("Wind Status")]),n("p",[t._v(" "+t._s(t.city.current.wind_speed)+" ")]),n("span",{staticClass:"symbol"},[t._v("mps")])]),n("div",{staticClass:"highlights"},[n("h5",[t._v("Humidity")]),n("p",[t._v(" "+t._s(t.city.current.humidity)+" ")]),n("span",{staticClass:"symbol"},[t._v("%")]),n("div",{staticClass:"white-box"},[n("div",{staticClass:"humidity-level",style:{width:t.city.current.humidity+"%"}})])])]),n("div",{staticClass:"highlights-two"},[n("div",{staticClass:"highlights"},[n("h5",[t._v("Visibility")]),n("p",[t._v(" "+t._s(t.city.current.visibility)+" ")]),n("span",{staticClass:"symbol"},[t._v("meters")])]),n("div",{staticClass:"highlights"},[n("h5",[t._v("Air pressure")]),n("p",[t._v(" "+t._s(t.city.current.pressure)+" ")]),n("span",{staticClass:"symbol"},[t._v("hPa")])])]),n("h4",[t._v("obiwanpelosi @ DevChallenges.io")])])])])},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v("Loading your weather data...")])])}],d=(n("fb6a"),n("d3b7"),n("25f0"),n("5530")),f=n("2f62"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("i",{staticClass:"material-icons close",on:{click:t.close}},[t._v("close")]),n("div",{staticClass:"wrapper"},[n("div",{staticClass:"input"},[n("i",{staticClass:"material-icons search",on:{click:t.close}},[t._v("search")]),n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.searchItem,expression:"searchItem",modifiers:{lazy:!0}}],attrs:{type:"text",placeholder:"search location"},domProps:{value:t.searchItem},on:{change:function(e){t.searchItem=e.target.value}}})]),n("button",{on:{click:t.search}},[t._v("Search")])])])},v=[],g={data:function(){return{searchItem:""}},methods:{close:function(){this.$emit("toggle")},search:function(){this.$store.commit("changeLoading"),this.$store.dispatch("fetchLocation",this.searchItem),this.close()}}},w=g,_=(n("fe2d"),Object(s["a"])(w,m,v,!1,null,"03a739b5",null)),y=_.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"current"},[n("div",{staticClass:"content"},[n("div",{staticClass:"action-btn"},[n("button",{on:{click:t.search}},[t._v("Search for places")]),t._m(0)]),n("div",{staticClass:"weather-data"},[n("img",{staticClass:"weather-icon",attrs:{src:t.city.img,alt:"weather icon"}}),n("p",{directives:[{name:"temp",rawName:"v-temp:changeTemp",value:t.tempMode,expression:"tempMode",arg:"changeTemp"}],staticClass:"current-temp"},[t._v(t._s(t._f("roundTemp")(t.city.current.temp))),n("span",{staticClass:"temp-symbol"},[t._v("℃")])]),n("p",{staticClass:"description"},[t._v(t._s(t.city.current.weather[0].description))]),n("div",{staticClass:"date"},[n("p",[t._v("Today")]),n("p",[t._v(".")]),n("p",[t._v(t._s(t.dates.today))])]),n("p",{staticClass:"location"},[t._m(1),t._v(" "+t._s(t.city.timezone))])])])])])},C=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"location_icon"},[n("i",{staticClass:"material-icons searching"},[t._v("location_searching")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("i",{staticClass:"material-icons location_on"},[t._v("location_on")])])}],x={props:{tempMode:{type:String}},data:function(){return{}},methods:{search:function(){this.$emit("toggle")}},computed:Object(d["a"])(Object(d["a"])({},Object(f["b"])({city:"city",dates:"dates"})),{},{slicedDaily:function(){return this.city.daily.slice(0,5)}}),directives:{temp:{update:function(t,e){"farenheit"==e.value?t.innerHTML="".concat(Math.round(9*parseInt(t.innerText)/5+32).toString(),"  <span>&#8457;</span>"):"celcius"==e.value&&(t.innerHTML="".concat(Math.round(5*(parseInt(t.innerText)-32)/9).toString()," <span>&#8451;</span>"))}}},filters:{roundTemp:function(t){return Math.round(t)}}},T=x,M=(n("5923"),Object(s["a"])(T,b,C,!1,null,"0c47dc0a",null)),j=M.exports,O={components:{search:y,weather:j},data:function(){return{show:!0,tempMode:"celcius",changeTemp:!1}},methods:{toggleShow:function(){this.changeTemp=!1,this.show=!this.show,"farenheit"==this.tempMode&&(this.tempMode="celcius")},changeToCelcius:function(){"farenheit"==this.tempMode&&(this.changeTemp=!0,this.tempMode="celcius")},changeToFarenheit:function(){"celcius"==this.tempMode&&(this.changeTemp=!0,this.tempMode="farenheit")}},computed:Object(d["a"])(Object(d["a"])({},Object(f["b"])({city:"city",loading:"loading",dates:"dates"})),{},{slicedDaily:function(){return this.city.daily.slice(0,5)}}),beforeCreate:function(){this.$store.dispatch("getLocation")},directives:{temp:{update:function(t,e){1==e.arg&&("farenheit"==e.value?t.innerHTML="".concat(Math.round(9*parseInt(t.innerText)/5+32).toString(),"  <span>&#8457;</span>"):"celcius"==e.value&&(t.innerHTML="".concat(Math.round(5*(parseInt(t.innerText)-32)/9).toString()," <span>&#8451;</span>")))}}},filters:{roundTemp:function(t){return Math.round(t)}}},D=O,S=(n("85a6"),Object(s["a"])(D,p,h,!1,null,"bfcfc5d2",null)),k=S.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v("Oops, looks like we ran into a connection problem or we don't recognize that city :(")]),n("router-link",{attrs:{to:"/"}},[t._v("Go back and try again?")])],1)},$=[],I={},E=I,P=(n("1af8"),Object(s["a"])(E,L,$,!1,null,"00229f0f",null)),R=P.exports;a["a"].use(u["a"]);var H=[{path:"/",name:"Home",component:k},{path:"/error",name:"Error",component:R}],z=new u["a"]({mode:"history",base:"/weatherapp/",routes:H}),N=z,F=(n("99af"),n("4160"),n("159b"),n("96cf"),n("1da1"));a["a"].use(f["a"]);var J=new f["a"].Store({state:{city:{daily:[]},loading:!0,dates:{}},mutations:{assignCity:function(t,e){t.city=e,t.city.daily.forEach((function(t){t.img="https://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png")}))},changeLoading:function(t){t.loading=!t.loading},getDate:function(t){var e={future:[]},n=new Date(Date.now()),a=new Date(Date.now()+864e5),i=new Date(Date.now()+1728e5),r=new Date(Date.now()+2592e5),s=new Date(Date.now()+3456e5),c=new Date(Date.now()+432e6),o={weekday:"long",month:"short",day:"numeric"};e.today=n.toLocaleDateString(void 0,o),e.future.push(a.toLocaleDateString(void 0,o)),e.future.push(i.toLocaleDateString(void 0,o)),e.future.push(r.toLocaleDateString(void 0,o)),e.future.push(s.toLocaleDateString(void 0,o)),e.future.push(c.toLocaleDateString(void 0,o)),t.dates=e}},actions:{fetchLocation:function(t,e){return Object(F["a"])(regeneratorRuntime.mark((function n(){var a,i,r,s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.dispatch,n.prev=1,n.next=4,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=9fa347bf86251c28789b835c2b83c4f6"));case 4:return i=n.sent,n.next=7,i.status;case 7:return r=n.sent,"404"==r&&N.push("/error"),n.next=11,i.json();case 11:s=n.sent,c={},c.lat=s.coord.lat,c.lon=s.coord.lon,a("fetchCity",c),n.next=21;break;case 18:n.prev=18,n.t0=n["catch"](1),console.log(n.t0);case 21:case"end":return n.stop()}}),n,null,[[1,18]])})))()},fetchCity:function(t,e){return Object(F["a"])(regeneratorRuntime.mark((function n(){var a,i,r,s,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,n.prev=1,n.next=4,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e.lat,"&lon=").concat(e.lon,"&exclude=minutely,hourly&units=metric&appid=9fa347bf86251c28789b835c2b83c4f6"));case 4:return i=n.sent,n.next=7,i.status;case 7:return r=n.sent,"404"==r&&console.log("not found"),n.next=11,i.json();case 11:s=n.sent,c="https://openweathermap.org/img/wn/".concat(s.current.weather[0].icon,"@2x.png"),o=s,o.img=c,a("assignCity",o),a("getDate"),n.next=22;break;case 19:n.prev=19,n.t0=n["catch"](1),console.log(n.t0);case 22:return n.prev=22,a("changeLoading"),n.finish(22);case 25:case"end":return n.stop()}}),n,null,[[1,19,22,25]])})))()},getLocation:function(t){return Object(F["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.dispatch,navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var e={};e.lat=t.coords.latitude,e.lon=t.coords.longitude,n("fetchCity",e)}),(function(t){alert("I'm going to proceed with a default location anyway"),console.log(t),n("default")})):(alert("this browser does not support geolocation, ditch it!"),n("default"));case 2:case"end":return e.stop()}}),e)})))()},default:function(t){return Object(F["a"])(regeneratorRuntime.mark((function e(){var n,a,i,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=6.8&lon=4.5&exclude=minutely,hourly&units=metric&appid=9fa347bf86251c28789b835c2b83c4f6");case 4:return a=e.sent,e.next=7,a.json();case 7:i=e.sent,r="https://openweathermap.org/img/wn/".concat(i.current.weather[0].icon,"@2x.png"),s=i,s.img=r,n("assignCity",s),n("getDate"),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](1),alert(e.t0),N.push("/error");case 19:return e.prev=19,n("changeLoading"),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,15,19,22]])})))()},reload:function(t){var e=t.dispatch;e("getLocation")}},modules:{}});a["a"].config.productionTip=!1;var q=new a["a"];new a["a"]({router:N,store:J,render:function(t){return t(l)}}).$mount("#app")},5923:function(t,e,n){"use strict";var a=n("df89"),i=n.n(a);i.a},"6e58":function(t,e,n){},"85a6":function(t,e,n){"use strict";var a=n("6e58"),i=n.n(a);i.a},ce3b:function(t,e,n){},df89:function(t,e,n){},fe2d:function(t,e,n){"use strict";var a=n("3f9b"),i=n.n(a);i.a}});
//# sourceMappingURL=app.4aaecb49.js.map